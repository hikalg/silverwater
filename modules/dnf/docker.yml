modules:
  # Install Docker Engine
  - type: dnf

    repos:
      files:
        - https://download.docker.com/linux/fedora/docker-ce.repo
      cleanup: false

    install:
      packages:
        - docker-ce
        - docker-ce-cli
        - containerd.io
        - docker-buildx-plugin
        - docker-compose-plugin
      install-weak-deps: true

  # Run Docker Engine
  - type: systemd
    system:
      enabled:
        - docker
